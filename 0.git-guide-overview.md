# Guide 0: Git-grunder och snabbreferens fÃ¶r teamarbete

## InnehÃ¥ll
1. [Hur Git fungerar - grundlÃ¤ggande koncept](#hur-git-fungerar)
2. [Vanligaste kommandona](#vanligaste-kommandona)
3. [BeslutstrÃ¤d - vilken guide behÃ¶ver jag?](#beslutstrÃ¤d)
4. [Team-conventions och best practices](#team-conventions)
5. [Snabbreferens - cheat sheet](#snabbreferens)

---

## Hur Git fungerar - grundlÃ¤ggande koncept

### De tre tillstÃ¥nden

Git har tre huvudsakliga tillstÃ¥nd dÃ¤r dina filer kan befinna sig:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Working       â”‚      â”‚    Staging      â”‚      â”‚   Repository    â”‚
â”‚   Directory     â”‚â”€â”€â”€â”€â”€â–¶â”‚     Area        â”‚â”€â”€â”€â”€â”€â–¶â”‚   (Commits)     â”‚
â”‚                 â”‚ add  â”‚                 â”‚commitâ”‚                 â”‚
â”‚  Dina filer     â”‚      â”‚  Redo att       â”‚      â”‚  Permanent      â”‚
â”‚  pÃ¥ disken      â”‚      â”‚  committas      â”‚      â”‚  historik       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Working Directory:**
- Filerna som du ser och redigerar
- Ã„ndringar som inte sparats i Git Ã¤n
- Status: "modified" eller "untracked"

**Staging Area (Index):**
- FÃ¶rbereder Ã¤ndringar fÃ¶r nÃ¤sta commit
- Du vÃ¤ljer exakt vad som ska committas
- Status: "staged" (grÃ¶na i `git status`)

**Repository (Commits):**
- Permanent historik av alla commits
- Varje commit Ã¤r en snapshot av hela projektet
- Kan ses som en graf av commits

### Commits - snapshots, inte deltas

**Viktigt att fÃ¶rstÃ¥:**
```
Git sparar INTE Ã¤ndringar, utan hela tillstÃ¥ndet!

Commit A: [fil1 v1, fil2 v1, fil3 v1]
Commit B: [fil1 v2, fil2 v1, fil3 v1]  â† Hela tillstÃ¥ndet sparas
Commit C: [fil1 v2, fil2 v2, fil3 v1]
```

Detta gÃ¶r att du kan:
- Hoppa till VILKEN commit som helst omedelbart
- JÃ¤mfÃ¶ra VILKA tvÃ¥ versioner som helst
- Brancha och merga effektivt

### Branches - pekare till commits

En branch Ã¤r bara en pekare till ett commit:

```
main    â†’  A---B---C
            \
feature â†’    D---E

HEAD â†’ feature (du Ã¤r hÃ¤r)
```

**HEAD:** Speciell pekare som visar var du Ã¤r just nu

**Skapa branch = skapa ny pekare**
**Byta branch = flytta HEAD**
**Commit = skapa nytt commit och flytta branch-pekaren**

### Remote vs Local

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          REMOTE (GitHub/GitLab)     â”‚
â”‚                                     â”‚
â”‚    origin/main                      â”‚
â”‚    origin/feature-branch            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–²                 â”‚
    push  â”‚                 â”‚  fetch/pull
          â”‚                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          LOCAL (Din dator)          â”‚
â”‚                                     â”‚
â”‚    main                             â”‚
â”‚    feature-branch                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**origin:** Default-namn fÃ¶r remote repository
**fetch:** HÃ¤mtar data frÃ¥n remote (uppdaterar inte dina branches)
**pull:** fetch + merge (hÃ¤mtar OCH uppdaterar)
**push:** Skickar dina commits till remote

### Merge vs Rebase

**Merge - kombinera tvÃ¥ branches:**
```
main:    A---B---C
          \       \
feature:   D---E---M  (M = merge commit)
```
- Bevarar historik
- Skapar merge-commit
- SÃ¤kert och enkelt

**Rebase - "flytta" commits:**
```
FÃ¶re:  main:    A---B---C
                 \
       feature:   D---E

Efter: main:    A---B---C
                         \
       feature:           D'---E'  (nya commit-ID)
```
- LinjÃ¤r historik
- Omskriver historik (nya commit-ID)
- Renare men mer komplext

**Regel:** AnvÃ¤nd merge pÃ¥ delade branches, rebase pÃ¥ dina privata

---

## Vanligaste kommandona

### Setup och konfiguration

```bash
# Konfigurera anvÃ¤ndare (gÃ¶r detta fÃ¶rst!)
git config --global user.name "Ditt Namn"
git config --global user.email "din@email.com"

# Visa konfiguration
git config --list

# Konfigurera editor
git config --global core.editor "code --wait"  # VS Code
git config --global core.editor "idea"         # IntelliJ
```

### Skapa och klona

```bash
# Skapa nytt repo
git init

# Klona frÃ¥n remote
git clone https://github.com/user/repo.git
git clone git@github.com:user/repo.git  # SSH
```

### Dagligt arbete

```bash
# Kolla status
git status

# Se vad som Ã¤ndrats (ej staged)
git diff

# Se vad som Ã¤r staged
git diff --staged

# LÃ¤gg till filer till staging
git add fil.java
git add .                    # Alla Ã¤ndringar
git add src/                 # Alla i mapp

# Committa
git commit -m "Beskrivande meddelande"
git commit -am "Message"     # add + commit (bara modified, ej untracked)

# Push till remote
git push origin branch-name
git push                     # Push current branch
```

### Branches

```bash
# Visa branches
git branch                   # Lokala
git branch -a                # Alla (inkl remote)

# Skapa branch
git branch feature-name

# Skapa och byt till branch
git checkout -b feature-name
git switch -c feature-name   # Nyare syntax

# Byt branch
git checkout branch-name
git switch branch-name       # Nyare syntax

# Ta bort branch
git branch -d branch-name    # SÃ¤ker (bara om mergad)
git branch -D branch-name    # Force delete

# Ta bort remote branch
git push origin --delete branch-name
```

### HÃ¤mta uppdateringar

```bash
# HÃ¤mta frÃ¥n remote (uppdaterar inte dina branches)
git fetch origin

# HÃ¤mta och merga
git pull origin main
git pull                     # Pull current branch

# HÃ¤mta med rebase
git pull --rebase origin main
```

### Historik och loggar

```bash
# Se commit-historik
git log
git log --oneline            # Kompakt
git log --graph --oneline    # Med graf
git log -5                   # Senaste 5

# Se Ã¤ndringar i commit
git show abc123
git show HEAD                # Senaste commit

# SÃ¶k i historik
git log --grep="bugfix"
git log --author="Alice"
git log --since="2 weeks ago"
```

### Ã…ngra och fixa

```bash
# Ã…ngra unstaged Ã¤ndringar
git restore fil.java
git checkout -- fil.java     # Gamla sÃ¤ttet

# Ta bort frÃ¥n staging (behÃ¥ll Ã¤ndringar)
git restore --staged fil.java
git reset HEAD fil.java      # Gamla sÃ¤ttet

# Ã„ndra senaste commit
git commit --amend

# Ã…ngra senaste commit (behÃ¥ll Ã¤ndringar)
git reset --soft HEAD~1

# Ã…ngra senaste commit (ta bort Ã¤ndringar)
git reset --hard HEAD~1

# Revert commit (skapa ny commit som Ã¥ngrar)
git revert abc123
```

### Stash - temporÃ¤r lagring

```bash
# Spara uncommitted changes
git stash
git stash push -m "Beskrivning"

# Visa stashes
git stash list

# Ã…terstÃ¤ll senaste stash
git stash pop                # Tar bort frÃ¥n stash
git stash apply              # BehÃ¥ller i stash

# Ã…terstÃ¤ll specifik stash
git stash pop stash@{1}

# Ta bort stash
git stash drop
git stash clear              # Ta bort alla
```

---

## BeslutstrÃ¤d - vilken guide behÃ¶ver jag?

### ğŸ¤” Vad vill du gÃ¶ra?

**Uppdatera din branch med Ã¤ndringar frÃ¥n main?**
â†’ [Guide 1: Uppdatera gammal feature-branch](lÃ¤nk)

**FÃ¥r du konflikter nÃ¤r du mergar/rebasar?**
â†’ [Guide 2: LÃ¶sa merge-konflikter](lÃ¤nk)

**Har du committat nÃ¥got du inte skulle?**
- Fel filer, dÃ¥ligt meddelande, glÃ¶mt nÃ¥got?
â†’ [Guide 3: Committat nÃ¥got fel](lÃ¤nk)

**Ã„r du pÃ¥ fel branch?**
- Committade pÃ¥ main istÃ¤llet fÃ¶r feature-branch?
â†’ [Guide 4: Committat pÃ¥ fel branch](lÃ¤nk)

**Har du uncommitted changes och behÃ¶ver byta branch?**
â†’ [Guide 5: Uncommitted changes och branch-byte](lÃ¤nk)

**Har din PR fÃ¥tt feedback?**
- BehÃ¶ver gÃ¶ra Ã¤ndringar, squasha commits?
â†’ [Guide 6: PR feedback och Ã¤ndringar](lÃ¤nk)

**Ska ni jobba tvÃ¥ personer pÃ¥ samma branch?**
â†’ [Guide 7: Samarbete pÃ¥ samma feature](lÃ¤nk)

**MÃ¥ste ni fixa en akut bugg i produktion?**
â†’ [Guide 8: Hotfix i produktion](lÃ¤nk)

**Ã„r main bruten och blockerar teamet?**
â†’ [Guide 9: Main Ã¤r bruten](lÃ¤nk)

**Vill du hitta nÃ¤r en bugg introducerades?**
â†’ [Guide 10: Hitta nÃ¤r och var en bugg introducerades](lÃ¤nk)

---

## Team-conventions och best practices

### Commit-meddelanden

**Format:**
```
Type: Short summary (max 50 chars)

Longer description if needed (wrap at 72 chars)
- Bullet points OK
- Explain WHY, not what

Fixes #123
```

**Types:**
- `Fix:` Bugfix
- `Feat:` Ny feature
- `Refactor:` Omstrukturering (ej funktionell Ã¤ndring)
- `Docs:` Dokumentation
- `Test:` Tester
- `Chore:` UnderhÃ¥ll (dependencies, build, etc)

**Exempel:**
```
Fix: Prevent null pointer in payment processing

Added null checks for user and payment method before
processing payment. This prevents crashes when user
session expires during checkout.

Fixes #456
```

### Branch-namngivning

**Konventioner:**
```
feature/user-login
feature/JIRA-123-payment-flow
bugfix/fix-null-pointer
hotfix/critical-security-issue
refactor/extract-user-service
```

**Regler:**
- Lowercase
- Kebab-case (bindestreck)
- Beskrivande
- Inkludera ticket-nummer om ni har

### Workflow

**Typisk feature-workflow:**
```bash
# 1. Starta frÃ¥n senaste main
git checkout main
git pull origin main

# 2. Skapa feature-branch
git checkout -b feature/user-login

# 3. Jobba och committa ofta
# ... kod ...
git add .
git commit -m "Feat: Add login form"

# 4. Push till remote
git push origin feature/user-login

# 5. Uppdatera med main regelbundet
git fetch origin
git merge origin/main  # eller rebase

# 6. Skapa PR nÃ¤r klar

# 7. Efter merge, ta bort branch
git checkout main
git pull origin main
git branch -d feature/user-login
git push origin --delete feature/user-login
```

### Code Review best practices

**Som fÃ¶rfattare:**
- âœ… SmÃ¥ PR:s (max 400 rader)
- âœ… Tydlig beskrivning av vad och varfÃ¶r
- âœ… Tester inkluderade
- âœ… SjÃ¤lvgranska innan du ber om review
- âœ… Uppdatera med main fÃ¶re review

**Som reviewer:**
- âœ… Ge konstruktiv feedback
- âœ… Fokusera pÃ¥ logik, inte kodstil
- âœ… FrÃ¥ga om du inte fÃ¶rstÃ¥r
- âœ… GodkÃ¤nn snabbt om inga blockers

### NÃ¤r ska man merge vs rebase?

**AnvÃ¤nd merge:**
- âœ… PÃ¥ delade branches (main, develop)
- âœ… NÃ¤r du Ã¤r osÃ¤ker
- âœ… FÃ¶r att bevara historik
- âœ… FÃ¶r merge-commits som dokumentation

**AnvÃ¤nd rebase:**
- âœ… PÃ¥ dina privata feature-branches
- âœ… FÃ¶r ren, linjÃ¤r historik
- âœ… Innan du skapar PR
- âŒ ALDRIG pÃ¥ publika/delade branches

### Commit-storlek

**Bra commit:**
- En logisk enhet av arbete
- Alla tester passerar
- Kan fÃ¶rklaras i en mening
- 50-200 rader (riktlinje)

**FÃ¶r stora:**
```
"Refactor entire authentication system + add new features + fix bugs"
â†’ Dela upp i flera commits!
```

**FÃ¶r smÃ¥:**
```
"Fix typo"
"Fix another typo"
"Fix lint error"
â†’ Squasha ihop eller anvÃ¤nd --amend
```

---

## Snabbreferens - Cheat Sheet

### Daglig anvÃ¤ndning

| Kommando | Beskrivning |
|----------|-------------|
| `git status` | Se vad som Ã¤ndrats |
| `git diff` | Se Ã¤ndringar (unstaged) |
| `git add .` | LÃ¤gg till alla Ã¤ndringar |
| `git commit -m "msg"` | Committa |
| `git push` | Pusha till remote |
| `git pull` | HÃ¤mta och merga frÃ¥n remote |
| `git log --oneline` | Se commit-historik |

### Branches

| Kommando | Beskrivning |
|----------|-------------|
| `git branch` | Visa branches |
| `git checkout -b name` | Skapa och byt till branch |
| `git checkout name` | Byt branch |
| `git merge name` | Merga branch in i current |
| `git branch -d name` | Ta bort branch |

### Ã…ngra

| Kommando | Beskrivning |
|----------|-------------|
| `git restore file` | Ã…ngra Ã¤ndringar i fil |
| `git restore --staged file` | Ta bort frÃ¥n staging |
| `git commit --amend` | Ã„ndra senaste commit |
| `git reset --soft HEAD~1` | Ã…ngra commit (behÃ¥ll Ã¤ndringar) |
| `git reset --hard HEAD~1` | Ã…ngra commit (ta bort Ã¤ndringar) |
| `git revert abc123` | Skapa commit som Ã¥ngrar |

### Stash

| Kommando | Beskrivning |
|----------|-------------|
| `git stash` | Spara uncommitted changes |
| `git stash pop` | Ã…terstÃ¤ll senaste stash |
| `git stash list` | Visa alla stashes |
| `git stash drop` | Ta bort stash |

### Remote

| Kommando | Beskrivning |
|----------|-------------|
| `git fetch origin` | HÃ¤mta frÃ¥n remote |
| `git pull origin main` | HÃ¤mta och merga |
| `git push origin branch` | Pusha branch |
| `git push --force-with-lease` | Force push (sÃ¤krare) |

### Historik och sÃ¶kning

| Kommando | Beskrivning |
|----------|-------------|
| `git log` | Visa commits |
| `git log --oneline --graph` | Kompakt med graf |
| `git show abc123` | Visa specifik commit |
| `git blame file` | Se vem som skrev varje rad |
| `git bisect start` | Starta binÃ¤rsÃ¶kning |

### IntelliJ Shortcuts

| Shortcut | Beskrivning |
|----------|-------------|
| `Ctrl+K` | Commit dialog |
| `Ctrl+Shift+K` | Push dialog |
| `Ctrl+T` | Update Project (pull) |
| `Alt+9` | Ã–ppna Git-fÃ¶nster |
| `Ctrl+Alt+Z` | Uncommit |
| `Alt+F12` | Terminal |

### Vanliga kombinationer

**Starta ny feature:**
```bash
git checkout main
git pull
git checkout -b feature/new-thing
```

**Uppdatera med main:**
```bash
git fetch origin
git merge origin/main
# eller
git pull --rebase origin main
```

**Fixa senaste commit:**
```bash
# GÃ¶r Ã¤ndringar
git add .
git commit --amend --no-edit
git push --force-with-lease
```

**Temporary save (stash):**
```bash
git stash
git checkout other-branch
# ... arbeta ...
git checkout original-branch
git stash pop
```

---

## FelsÃ¶kning - "HjÃ¤lp, nÃ¥got gick fel!"

### "I accidentally committed to main!"
â†’ [Guide 4: Committat pÃ¥ fel branch](lÃ¤nk)

### "I have merge conflicts!"
â†’ [Guide 2: LÃ¶sa merge-konflikter](lÃ¤nk)

### "I committed sensitive data!"
â†’ [Guide 3: Committat nÃ¥got fel](lÃ¤nk) - Rotera credentials FÃ–RST!

### "Main is broken!"
â†’ [Guide 9: Main Ã¤r bruten](lÃ¤nk) - Revert omedelbart!

### "I lost my changes!"
```bash
# Kolla reflog - Git sparar nÃ¤stan allt
git reflog

# Hitta ditt commit/stash
# Ã…terstÃ¤ll
git checkout abc123
# eller
git cherry-pick abc123
```

### "I can't push!"
```bash
# Vanligen: remote har nya commits
git pull --rebase
# LÃ¶s konflikter om det uppstÃ¥r
git push
```

### "Git says 'detached HEAD'!"
```bash
# Du Ã¤r inte pÃ¥ nÃ¥gon branch
# Skapa branch frÃ¥n nuvarande position:
git checkout -b recovery-branch

# Eller Ã¥tergÃ¥ till main:
git checkout main
```

---

## Resurser och lÃ¤rande

### Officiell dokumentation
- [Git Documentation](https://git-scm.com/doc)
- [Pro Git Book](https://git-scm.com/book/en/v2) (gratis, bra!)

### Interaktiva tutorials
- [Learn Git Branching](https://learngitbranching.js.org/) - Visuell Git-lÃ¤rande
- [Git Immersion](https://gitimmersion.com/) - Hands-on tutorial

### Visualisering
- [Git Visualizer](https://git-school.github.io/visualizing-git/)
- GitKraken / SourceTree - GUI-verktyg

### Cheat Sheets
- [GitHub Git Cheat Sheet](https://education.github.com/git-cheat-sheet-education.pdf)
- [Atlassian Git Cheat Sheet](https://www.atlassian.com/git/tutorials/atlassian-git-cheatsheet)

---

## Viktiga principer att komma ihÃ¥g

âœ… **Commit ofta** - SmÃ¥, logiska enheter
âœ… **Pull fÃ¶re push** - Uppdatera innan du delar
âœ… **Brancha lÃ¤tt** - Branches Ã¤r billiga
âœ… **Testa fÃ¶re commit** - Bryt inte bygget
âœ… **Skriv bra meddelanden** - Framtida dig tackar
âœ… **Kommunicera** - HÃ¥ll teamet uppdaterat
âœ… **Merge main ofta** - Undvik stora konflikter
âœ… **Backup med push** - Push regelbundet
âœ… **LÃ¤s felmeddelanden** - Git fÃ¶rklarar ofta vad som Ã¤r fel
âœ… **VÃ¥ga experimentera** - Git gÃ¶r det sÃ¤kert att testa

**Kom ihÃ¥g:** Git Ã¤r ett sÃ¤kerhetsnÃ¤t, inte en fÃ¤lla. NÃ¤stan allt gÃ¥r att Ã¥ngra!
